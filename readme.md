# Cloudflare Worker: ä»£ç†é…ç½®ä¼˜é€‰å·¥å…·

è¿™æ˜¯ä¸€ä¸ªè¿è¡Œåœ¨ Cloudflare Worker ä¸Šçš„å¤šåŠŸèƒ½ä»£ç†å·¥å…·ï¼Œç»“åˆ Cloudflare D1 æ•°æ®åº“ï¼Œæä¾›**IPä¼˜é€‰**å’Œ**åŸŸåä¼˜é€‰**çš„æ‰¹é‡æ›¿æ¢åŠŸèƒ½ã€‚ç³»ç»Ÿç”±3ä¸ªæ–‡ä»¶ç»„æˆï¼š**worker.js** - ä¼˜é€‰ç”Ÿæˆå™¨ã€**config_worker.js** - é…ç½®ç®¡ç†å™¨ã€**mg_worker.js** - ç®¡ç†åå°ã€‚é‡‡ç”¨ä¸‰ Worker æ¶æ„ï¼Œåˆ†åˆ«å¤„ç†ä¼˜é€‰ç”Ÿæˆã€é…ç½®ç®¡ç†å’Œç³»ç»Ÿç®¡ç†ï¼Œå®ç°åŠŸèƒ½è§£è€¦å’Œç‹¬ç«‹éƒ¨ç½²ã€‚

## ğŸ“¦ ç³»ç»Ÿç»„æˆ

**ç³»ç»Ÿç”±3ä¸ªæ ¸å¿ƒæ–‡ä»¶ç»„æˆ**ï¼š
- **`worker.js`** - ä¼˜é€‰ç”Ÿæˆå™¨ï¼šå¤„ç† IP/åŸŸåä¼˜é€‰ã€è®¢é˜…ç”Ÿæˆã€æ‰¹é‡é…ç½®æ›¿æ¢
- **`config_worker.js`** - é…ç½®ç®¡ç†å™¨ï¼šæä¾›é…ç½® CRUD æ“ä½œã€è®¢é˜…æ¥å£ã€é…ç½®ç¼–è¾‘åŠŸèƒ½
- **`mg_worker.js`** - ç®¡ç†åå°ï¼šJWT è®¤è¯ã€åŸŸå/IP/UUID ç®¡ç†ã€ç³»ç»Ÿç»Ÿè®¡ã€æ‰‹åŠ¨ IP æ›´æ–°

## âœ¨ ä¸»è¦ç‰¹æ€§

### 1. **ä¸‰ Worker æ¶æ„**
è¯¥ç³»ç»Ÿç”±3ä¸ªæ–‡ä»¶ç»„æˆï¼š**worker.js** - ä¼˜é€‰ç”Ÿæˆå™¨ã€**config_worker.js** - é…ç½®ç®¡ç†å™¨ã€**mg_worker.js** - ç®¡ç†åå°ã€‚

   *   **worker.js** - ä¼˜é€‰ç”Ÿæˆå™¨ï¼šå¤„ç† IP/åŸŸåä¼˜é€‰ã€è®¢é˜…ç”Ÿæˆã€æ‰¹é‡é…ç½®æ›¿æ¢
   *   **config_worker.js** - é…ç½®ç®¡ç†å™¨ï¼šæä¾›é…ç½® CRUD æ“ä½œã€è®¢é˜…æ¥å£ã€é…ç½®ç¼–è¾‘åŠŸèƒ½ï¼ŒåŒ…å«å¤–éƒ¨é…ç½®ç”Ÿæˆå™¨é“¾æ¥
   *   **mg_worker.js** - ç®¡ç†åå°ï¼šJWT è®¤è¯ã€åŸŸå/IP/UUID ç®¡ç†ã€ç³»ç»Ÿç»Ÿè®¡ã€æ‰‹åŠ¨ IP æ›´æ–°

### 2. **åŒæ¨¡å¼ä¼˜é€‰**
   *   æ”¯æŒå°†é…ç½®ä¸­çš„åœ°å€æ‰¹é‡æ›¿æ¢ä¸º **ä¼˜é€‰ IP** æˆ– **ä¼˜é€‰åŸŸå**
   *   æ”¯æŒ IPv4/IPv6 å’Œä¸åŒè¿è¥å•†ï¼ˆç”µä¿¡/è”é€š/ç§»åŠ¨ï¼‰ç­›é€‰
   *   æ”¯æŒé€šè¿‡ç®¡ç†åå°æ‰‹åŠ¨æ›´æ–° IP æ•°æ®æº

### 4. **é…ç½®ç®¡ç† (CRUD) [v1.2]**
   *   æä¾›å®Œæ•´çš„ç®¡ç†ç•Œé¢ï¼Œå¯æ·»åŠ ã€æŸ¥è¯¢ã€ç¼–è¾‘ã€åˆ é™¤åŸºç¡€é…ç½®ï¼ˆæ”¯æŒ VMess, VLESS, Trojanï¼‰
   *   æŒ‰ UUID åˆ†ç»„ç®¡ç†ï¼Œæ–¹ä¾¿ç”Ÿæˆä¸åŒçš„è®¢é˜…
   *   æ”¯æŒé…ç½®ç¼–è¾‘åŠŸèƒ½ï¼Œå¯ä¿®æ”¹åˆ«åã€åœ°å€ã€ç«¯å£ã€ä¼ è¾“åè®®ç­‰å‚æ•°
   *   æä¾›é…ç½®ç”Ÿæˆå™¨å¤–éƒ¨é“¾æ¥ï¼ˆ"é…ç½®ç”Ÿæˆ"æŒ‰é’®ï¼‰ï¼Œé“¾æ¥åˆ°å¤–éƒ¨é…ç½®ç”Ÿæˆå™¨ï¼ˆhttps://cfst.api.yangzifun.orgï¼‰
   *   æ”¹è¿›çš„è®¢é˜…é“¾æ¥æ˜¾ç¤ºæ–¹å¼ï¼ˆä½¿ç”¨å¯å¤åˆ¶çš„è¾“å…¥æ¡†ï¼‰
   *   ç»Ÿä¸€çš„å‰ç«¯æŒ‰é’®æ ·å¼

### 5. **åŠ¨æ€è®¢é˜…ç”Ÿæˆ**
   *   æä¾› `/sub/{uuid}` è®¢é˜…æ¥å£ï¼Œè¿”å› Base64 ç¼–ç çš„é…ç½®åˆ—è¡¨
   *   æ”¯æŒé€šè¿‡ URL å‚æ•°åŠ¨æ€æŒ‡å®š IP ç±»å‹ï¼ˆIPv4/IPv6ï¼‰æˆ–è¿è¥å•†ï¼ˆç”µä¿¡/è”é€š/ç§»åŠ¨ï¼‰
   *   æ”¯æŒæ‰¹é‡æ·»åŠ é…ç½®ï¼Œæé«˜ç®¡ç†æ•ˆç‡

### 6. **å®Œæ•´çš„æ•°æ®ç®¡ç†**
   *   åŸŸåç®¡ç†ï¼šæ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤ä¼˜é€‰åŸŸå
   *   IP èµ„æºæ± ç®¡ç†ï¼šæŸ¥çœ‹ã€åˆ é™¤ã€åˆ·æ–°ä¼˜é€‰ IP
   *   UUID åˆ†ç»„ç®¡ç†ï¼šæŒ‰ UUID ç®¡ç†é…ç½®åˆ†ç»„
   *   ç³»ç»Ÿç»Ÿè®¡ï¼šå®æ—¶æŸ¥çœ‹åŸŸåã€IPã€UUID æ•°é‡ç»Ÿè®¡

### 7. **å®‰å…¨ç‰¹æ€§**
   *   JWT è®¤è¯ç³»ç»Ÿï¼Œä¿éšœç®¡ç†åå°å®‰å…¨
   *   å“åº”å¼è®¾è®¡ï¼Œé€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
   *   é…ç½®ç”Ÿæˆå™¨å¤–éƒ¨é“¾æ¥è·³è½¬åŠŸèƒ½ï¼Œæä¾›ä¸€ç«™å¼é…ç½®ç®¡ç†ä½“éªŒ

## ğŸ› ï¸ éƒ¨ç½²å‡†å¤‡

åœ¨ä½¿ç”¨æ­¤è„šæœ¬ä¹‹å‰ï¼Œæ‚¨éœ€è¦ï¼š
1.  ä¸€ä¸ª **Cloudflare** è´¦å·ã€‚
2.  å¯ç”¨ **Workers** å’Œ **D1 Database** åŠŸèƒ½ã€‚

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### 1. åˆ›å»º D1 æ•°æ®åº“

åœ¨ Cloudflare æ§åˆ¶å°çš„ "Workers & Pages" -> "D1" ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®åº“ï¼ˆä¾‹å¦‚å‘½åä¸º `proxy-db`ï¼‰ã€‚

### 2. åˆå§‹åŒ–æ•°æ®åº“ (SQL)

è¿›å…¥ D1 æ•°æ®åº“çš„ "Console" æ ‡ç­¾é¡µï¼Œæ‰§è¡Œä»¥ä¸‹ SQL è¯­å¥ä»¥åˆ›å»ºæ‰€éœ€çš„è¡¨ç»“æ„ï¼š

```sql
/* =================================================================
 *  D1 æ•°æ®åº“å»ºè¡¨ Schema
 * ================================================================= */

-- ç”¨æˆ·è¡¨
CREATE TABLE IF NOT EXISTS admin_users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    username TEXT UNIQUE,
    password_hash TEXT
);
-- åŸŸåè¡¨
CREATE TABLE IF NOT EXISTS cf_domains (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    domain TEXT UNIQUE,
    remark TEXT,
    created_at INTEGER
);
-- UUID é…ç½®è¡¨
CREATE TABLE IF NOT EXISTS configs (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    uuid TEXT,
    config TEXT, 
    created_at INTEGER
);
-- IP æ± è¡¨
CREATE TABLE IF NOT EXISTS cfips (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    ip TEXT UNIQUE,
    ip_type TEXT,
    carrier TEXT,
    created_at INTEGER
);
-- è‡ªåŠ¨æ›´æ–°è®¾ç½®è¡¨ (v1.3æ–°å¢)
CREATE TABLE IF NOT EXISTS auto_update_settings (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    source TEXT UNIQUE NOT NULL,
    enabled INTEGER DEFAULT 1,
    updated_at INTEGER DEFAULT (unixepoch())
);

-- åˆå§‹åŒ–ç®¡ç†å‘˜ (è´¦å·: admin / å¯†ç : password)
-- Hash å€¼æ˜¯ "password" çš„ SHA-256
INSERT INTO admin_users (username, password_hash) VALUES ('admin', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8');

-- åˆå§‹åŒ–è‡ªåŠ¨æ›´æ–°è®¾ç½® (v1.3æ–°å¢)
INSERT OR IGNORE INTO auto_update_settings (source, enabled) VALUES 
('global', 1),
('hostmonit', 1),
('vps789', 1);
```

### 3. åˆ›å»ºWorkerå¹¶ç»‘å®šD1

åˆ›å»ºä¸‰ä¸ªWorkerå¹¶ç»‘å®šåˆ°åŒä¸€ä¸ªD1æ•°æ®åº“ï¼š

| Workeråç§°      | ç»‘å®šæ–‡ä»¶       | æ•°æ®åº“ç»‘å®šå˜é‡ |
|-----------------|---------------|---------------|
| `proxy-main`    | `worker.js`   | `DB`          |
| `proxy-config`  | `config_worker.js` | `DB`      |
| `proxy-mg`      | `mg_worker.js`| `DB`          |

ç»‘å®šæ­¥éª¤ï¼š
1. æ¯ä¸ªWorkerçš„"Settings" â†’ "Variables"ä¸­æ·»åŠ D1ç»‘å®š
2. **Variable name** å¿…é¡»è®¾ç½®ä¸º `DB`ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰
3. é€‰æ‹©å‰é¢åˆ›å»ºçš„D1æ•°æ®åº“

4.  **è·¯ç”±é…ç½®**ï¼š
    *   åœ¨ DNS è®¾ç½®ä¸­åˆ›å»ºä¸‰æ¡è·¯ç”±ï¼š
    ```
    proxy.example.com/* â†’ proxy-main
    config.example.com/* â†’ proxy-config
    mg.example.com/* â†’ proxy-mg
    ```

5.  **é‡è¦é…ç½®**ï¼šè¿›å…¥æ¯ä¸ª Worker çš„ **Settings** -> **Variables**ï¼š
    *   **D1 Database Bindings**ï¼š
    *   **Variable name**: `DB` (å¿…é¡»å®Œå…¨ä¸€è‡´ï¼Œæ³¨æ„å¤§å†™)
    *   **D1 database**: é€‰æ‹©ç¬¬ 1 æ­¥åˆ›å»ºçš„æ•°æ®åº“ã€‚

### 4. åˆå§‹åŒ–åŸŸåè¡¨ (å¯é€‰)
åœ¨é…ç½®ç®¡ç†é¡µ(`/manage`)ä¸Šçº¿åï¼Œæ‚¨å¯ä»¥ç›´æ¥åœ¨UIä¸­æ·»åŠ åŸŸåï¼š
1. è®¿é—®Workeråœ°å€ + `/manage`
2. åˆ‡æ¢åˆ°"åŸŸåç®¡ç†"æ ‡ç­¾é¡µ
3. ç‚¹å‡»"æ·»åŠ åŸŸå"æŒ‰é’®
4. è¾“å…¥åŸŸåå’Œå¤‡æ³¨ä¿¡æ¯

æˆ–è€…é€šè¿‡SQLåˆå§‹åŒ–ï¼š
```sql
INSERT INTO cf_domains (domain, remark) VALUES 
('example.com', 'ä¼˜è´¨åŸŸå'),
('cdn.example.net', 'CDNåŠ é€ŸåŸŸå');
```

### 5. éƒ¨ç½²ä¸Šçº¿

ç‚¹å‡» "Deploy" ä¿å­˜å¹¶å‘å¸ƒ Workerã€‚è®¿é—® Worker çš„ URL å³å¯çœ‹åˆ°æ“ä½œç•Œé¢ã€‚

---

## ğŸ“– ä½¿ç”¨æŒ‡å—

### 1. é¦–é¡µ (æ‰¹é‡ç”Ÿæˆå™¨)
*   **åŸºç¡€é…ç½®**ï¼š
    *   **æ‰‹åŠ¨ç²˜è´´**ï¼šç›´æ¥å°† vmess/vless é“¾æ¥ç²˜è´´åˆ°æ–‡æœ¬æ¡†ã€‚
    *   **ä» UUID è·å–**ï¼šè¾“å…¥åœ¨ç®¡ç†é¡µä¿å­˜çš„ UUIDï¼Œè„šæœ¬ä¼šè‡ªåŠ¨æ‹‰å–è¯¥ç»„æ‰€æœ‰é…ç½®ã€‚
*   **ä¼˜é€‰åˆ—è¡¨**ï¼š
    *   **IP åœ°å€**ï¼šé€‰æ‹© IPv4/IPv6 æˆ–ç‰¹å®šè¿è¥å•†ã€‚å¦‚æœIPæ± ä¸ºç©ºï¼Œè¯·ç‚¹å‡»"ä»è¿œç¨‹APIæ›´æ–°"æŒ‰é’®æ‰‹åŠ¨è·å–IPã€‚
    *   **ä¼˜é€‰åŸŸå**ï¼šç›´æ¥ä½¿ç”¨æ•°æ®åº“ `cf_domains` è¡¨ä¸­çš„åŸŸåã€‚
*   **ç”Ÿæˆé…ç½®**ï¼šç‚¹å‡»æŒ‰é’®ï¼Œåº•éƒ¨æ–‡æœ¬æ¡†å°†æ˜¾ç¤ºæ›¿æ¢åçš„èŠ‚ç‚¹åˆ—è¡¨ã€‚

### 2. é…ç½®ç®¡ç†é¡µ (`/manage`)
*   åœ¨æ­¤é¡µé¢ï¼Œæ‚¨å¯ä»¥ï¼š
    *   **ç®¡ç†åŸºç¡€é…ç½®**ï¼šæ·»åŠ /æŸ¥è¯¢/åˆ é™¤èŠ‚ç‚¹é…ç½®
    *   **ç®¡ç†ä¼˜é€‰åŸŸå**ï¼šæ·»åŠ /ç¼–è¾‘/åˆ é™¤ä¼˜é€‰åŸŸåï¼ˆv1.2+ï¼‰
    *   **ç®¡ç†è‡ªåŠ¨æ›´æ–°è®¾ç½®**ï¼šé…ç½®IPæ± è‡ªåŠ¨æ›´æ–°ç­–ç•¥ï¼ˆv1.3+ï¼‰
*   **æ“ä½œæŒ‡å—**ï¼š
    1. åœ¨"é…ç½®ç®¡ç†"æ ‡ç­¾é¡µï¼š
        - **æ·»åŠ é…ç½®**ï¼šè¾“å…¥UUIDå’ŒVMess/VLESSé“¾æ¥
        - **æŸ¥è¯¢é…ç½®**ï¼šæŒ‰UUIDç­›é€‰é…ç½®
        - **åˆ é™¤é…ç½®**ï¼šç‚¹å‡»é…ç½®é¡¹å³ä¾§åˆ é™¤æŒ‰é’®
    2. åœ¨"åŸŸåç®¡ç†"æ ‡ç­¾é¡µï¼š
        - **æ·»åŠ åŸŸå**ï¼šè¾“å…¥åŸŸåå’Œå¤‡æ³¨ä¿¡æ¯
        - **ç¼–è¾‘åŸŸå**ï¼šç‚¹å‡»åŸŸåé¡¹ä¿®æ”¹ä¿¡æ¯
        - **åˆ é™¤åŸŸå**ï¼šç‚¹å‡»åŸŸåé¡¹å³ä¾§åˆ é™¤æŒ‰é’®

### 3. è®¢é˜…é“¾æ¥
ç”Ÿæˆé…ç½®åï¼Œå¦‚æœä½¿ç”¨äº† UUID æ¨¡å¼ï¼Œç³»ç»Ÿä¼šæä¾›ä¸€ä¸ªæ°¸ä¹…è®¢é˜…é“¾æ¥ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š
*   **IP æ¨¡å¼**: `/batch-configs/{uuid}?type=ip&ipType=v4&carrier=CT`
*   **åŸŸå æ¨¡å¼**: `/batch-configs/{uuid}?type=domain`

---

## âš™ï¸ ç³»ç»Ÿæ¶æ„

### ç»„ä»¶äº¤äº’æµç¨‹
```mermaid
sequenceDiagram
    participant User as ç”¨æˆ·æµè§ˆå™¨
    participant Main as worker.js
    participant Config as config_worker.js
    participant DB as D1 æ•°æ®åº“

    User->>Config: è®¿é—® /manage (é…ç½®ç®¡ç†)
    Config->>DB: è¯»å†™é…ç½®æ•°æ®
    Config-->>User: è¿”å›ç®¡ç†ç•Œé¢

    User->>Main: è®¿é—® / (ç”Ÿæˆå™¨é¦–é¡µ)
    Main->>DB: è¯»å–ä¼˜é€‰IP/åŸŸå
    Main-->>User: è¿”å›ç”Ÿæˆå™¨ç•Œé¢

    User->>Main: æäº¤ç”Ÿæˆè¯·æ±‚
    Main->>DB: è·å–åŸºç¡€é…ç½®
    Main-->>User: è¿”å›ä¼˜é€‰èŠ‚ç‚¹
```

### æ¥å£è°ƒç”¨å…³ç³»
| è°ƒç”¨æ–¹        | è¢«è°ƒç”¨æ–¹       | æ¥å£è·¯å¾„           | æ•°æ®æµå‘         |
|---------------|----------------|--------------------|------------------|
| `worker.js`   | `config_worker.js` | `/config`        | æ‹‰å–åŸºç¡€é…ç½®     |
| `worker.js`   | `config_worker.js` | `/domain`        | è·å–ä¼˜é€‰åŸŸå     |
| ç”¨æˆ·æµè§ˆå™¨    | `mg_worker.js` | `/manage` ç›¸å…³æ¥å£ | ç®¡ç†åå°æ“ä½œ     |
| ç”¨æˆ·æµè§ˆå™¨    | `mg_worker.js` | `/update-ips`     | æ‰‹åŠ¨æ›´æ–°IP       |

## ğŸ“¡ API æ¥å£æ–‡æ¡£

### mg_worker.js æ¥å£ï¼š
| æ–¹æ³•   | è·¯å¾„                   | æè¿°                     | å‚æ•°ç¤ºä¾‹ |
| :----- | :--------------------- | :----------------------- | :------- |
| `GET`  | `/manage`              | ç®¡ç†åå°UI               | -        |
| `POST` | `/login`               | ç®¡ç†å‘˜ç™»å½•               | JSON body |
| `GET`  | `/domains`             | è·å–åŸŸååˆ—è¡¨             | -        |
| `POST` | `/domain`              | æ·»åŠ åŸŸå                 | JSON body |
| `DELETE`| `/domain/:id`         | åˆ é™¤åŸŸå                 | URLå‚æ•°  |
| `GET`  | `/ips`                 | è·å–IPåˆ—è¡¨               | `?page=1&per_page=20` |
| `POST` | `/update-ips`          | æ‰‹åŠ¨æ›´æ–°IPæ±              | -        |
| `GET`  | `/uuids`               | è·å–UUIDåˆ—è¡¨             | -        |
| `GET`  | `/api/settings/auto-update` | è·å–è‡ªåŠ¨æ›´æ–°è®¾ç½®     | -        |
| `POST` | `/api/settings/auto-update` | æ›´æ–°è‡ªåŠ¨æ›´æ–°è®¾ç½®     | JSON body |

### è‡ªåŠ¨æ›´æ–°è®¾ç½®æ¥å£è¯´æ˜
- **è·å–è‡ªåŠ¨æ›´æ–°è®¾ç½®** (`GET /api/settings/auto-update`): 
  è¿”å›å½“å‰è‡ªåŠ¨æ›´æ–°é…ç½®ï¼ŒåŒ…æ‹¬æ¯ä¸ªæ•°æ®æºï¼ˆglobal, hostmonit, vps789ï¼‰çš„å¯ç”¨çŠ¶æ€
- **æ›´æ–°è‡ªåŠ¨æ›´æ–°è®¾ç½®** (`POST /api/settings/auto-update`): 
  æ›´æ–°è‡ªåŠ¨æ›´æ–°é…ç½®ã€‚è¯·æ±‚ä½“ä¸ºJSONæ ¼å¼ï¼Œç¤ºä¾‹ï¼š
  ```json
  { 
    "source": "hostmonit", 
    "enabled": true 
  }
  ```
  æ”¯æŒæ›´æ–°çš„å­—æ®µï¼š
  - `source`: æ•°æ®æºåç§° (global/hostmonit/vps789)
  - `enabled`: å¯ç”¨çŠ¶æ€ (true/false)

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1.  **æ–‡ä»¶åˆ†å·¥**ï¼š
    *   `worker.js` å¤„ç†ä¼˜é€‰é€»è¾‘å’Œè®¢é˜…ç”Ÿæˆ
    *   `config_worker.js` ä¸“æ³¨é…ç½®ç®¡ç† CRUD æ“ä½œ
2.  **IP æ›´æ–°**ï¼š
    *   ç³»ç»Ÿé»˜è®¤å¼€å¯è‡ªåŠ¨æ›´æ–°IPæ± ï¼Œå¯åœ¨ç®¡ç†åå°é…ç½®
    *   æ”¯æŒå…¨å±€å¼€å…³å’ŒæŒ‰æ¥å£æºå•ç‹¬é…ç½®
3.  **åŸŸåç®¡ç†**ï¼š
    *   é€šè¿‡ SQL å‘½ä»¤ç»´æŠ¤ `cf_domains` è¡¨ï¼š`INSERT INTO cf_domains (domain, remark) VALUES ('example.com', 'ä¼˜è´¨åŸŸå')`
    *   æ”¯æŒåœ¨é…ç½®ç®¡ç†é¡µ(`/manage`)ç›´æ¥ç®¡ç†åŸŸåï¼ˆv1.2+æ–°åŠŸèƒ½ï¼‰
4.  **VMess æ ¼å¼**ï¼šä»£ç ä»…æ”¯æŒæ ‡å‡†çš„ JSON æ ¼å¼ Base64 ç¼–ç çš„ VMess é“¾æ¥ã€‚
5.  **é…ç½®åŒæ­¥**ï¼šé€šè¿‡ `config_worker.js` ç®¡ç†çš„é…ç½®ä¼šå®æ—¶åŒæ­¥åˆ° D1 æ•°æ®åº“ã€‚
